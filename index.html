<!DOCTYPE html>
<html lang="es">
<head>
n<script async src="https://www.googletagmanager.com/gtag/js?id=G-TTPC0FTYMY"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag("js", new Date());
  gtag("config", "G-TTPC0FTYMY");
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Tavolos Pizza | Diamond System</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root { --p: #FF6B35; --s: #1A1A1A; --bg: #F8F9FA; --shadow: 0 10px 30px rgba(0,0,0,0.1); }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); margin: 0; padding-bottom: 110px; }
        
        .app-header { height: 160px; background: linear-gradient(rgba(0,0,0,0.6), var(--s)), url('https://images.unsplash.com/photo-1513104890138-7c749659a591?w=800'); background-size: cover; border-radius: 0 0 40px 40px; display: flex; align-items: flex-end; padding: 25px; color: white; }
        
        /* Filtros APK */
        .cat-bar { display: flex; gap: 12px; overflow-x: auto; padding: 20px; scrollbar-width: none; position: sticky; top: 0; background: var(--bg); z-index: 100; }
        .cat-chip { background: white; padding: 10px 20px; border-radius: 20px; font-weight: 700; white-space: nowrap; box-shadow: 0 4px 10px rgba(0,0,0,0.05); color: #888; border: 2px solid transparent; }
        .cat-chip.active { background: var(--p); color: white; border-color: var(--p); }

        /* Cards Diamante */
        .p-card { background: white; margin: 0 20px 20px; border-radius: 25px; overflow: hidden; box-shadow: var(--shadow); display: flex; height: 130px; border: 1px solid rgba(0,0,0,0.03); }
        .p-img { width: 110px; height: 100%; object-fit: cover; }
        .p-body { padding: 12px; flex: 1; position: relative; }
        .p-body h3 { margin: 0; font-size: 1rem; font-weight: 800; }
        .p-body p { font-size: 0.7rem; color: #666; margin: 4px 0; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        .btn-open { background: var(--p); color: white; border: none; padding: 6px 12px; border-radius: 10px; font-weight: 700; font-size: 0.8rem; margin-top: 5px; cursor: pointer; }

        /* Modal Premium */
        #modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.85); backdrop-filter: blur(8px); z-index: 2000; align-items: flex-end; }
        .modal-content { background: white; width: 100%; border-radius: 35px 35px 0 0; padding: 30px; box-sizing: border-box; }
        .modal-h { border-bottom: 2px solid #EEE; padding-bottom: 15px; margin-bottom: 20px; }
        .row { display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid #F5F5F5; }
        
        /* Floating Cart */
        .cart-float { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); width: 90%; background: var(--s); color: white; padding: 18px 25px; border-radius: 22px; display: none; justify-content: space-between; align-items: center; box-shadow: 0 15px 35px rgba(0,0,0,0.4); z-index: 1500; cursor: pointer; }

        input[type="radio"], input[type="checkbox"] { accent-color: var(--p); width: 20px; height: 20px; }
    </style>
</head>
<body>
    <div class="app-header">
        <div><h1 style="margin:0;font-size:1.6rem">Tavolos Pizza</h1><p style="margin:0;opacity:0.8"><i class="fas fa-gem"></i> Nivel Diamante Activo</p></div>
    </div>

    <div class="cat-bar" id="catBar">
        <div class="cat-chip active" onclick="render('pizzas')">ğŸ• Pizzas</div>
        <div class="cat-chip" onclick="render('pastas')">ğŸ Pastas</div>
        <div class="cat-chip" onclick="render('alitas')">ğŸ— Entradas</div>
        <div class="cat-chip" onclick="render('bebidas')">ğŸ¥¤ Bebidas</div>
    </div>

    <div id="grid"></div>

    <div id="modal" onclick="closeM()">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-h"><h2 id="m-n" style="margin:0">Producto</h2></div>
            <div id="m-sizes"></div>
            <h4 style="margin: 20px 0 10px">Extras Premium</h4>
            <div class="row"><span>ğŸ§€ Queso Extra</span><div>+$25 <input type="checkbox" class="ex" data-n="Queso" data-p="25"></div></div>
            <div class="row"><span>ğŸ• Pepperoni Extra</span><div>+$30 <input type="checkbox" class="ex" data-n="Pepperoni" data-p="30"></div></div>
            <button class="btn-open" style="width:100%; padding:18px; margin-top:20px; font-size:1rem" onclick="add()">AGREGAR AL CARRITO</button>
        </div>
    </div>

    <div class="cart-float" id="cartUI" onclick="genTicket()">
        <span>ğŸ›’ <span id="c-qty">0</span> Items</span>
        <span id="c-total">$0.00 MXN</span>
    </div>

    <script>
        const menu = {
            pizzas: [
                { id: 1, n: "Pizza de la Casa", d: "Salsa alfredo, espinaca, pollo a la plancha", img: "https://images.unsplash.com/photo-1513104890138-7c749659a591?w=400", t: [{n:"Chica", p:95}, {n:"Mediana", p:195}, {n:"Familiar", p:395}] },
                { id: 2, n: "Pizza Ligera", d: "Mozzarella, champiÃ±ones, pimientos", img: "https://images.unsplash.com/photo-1574071318508-1cdbab80d002?w=400", t: [{n:"Chica", p:85}, {n:"Familiar", p:395}] },
                { id: 3, n: "Pizza Hawaiana", d: "Mozzarella, piÃ±a y jamÃ³n clÃ¡sico", img: "https://images.unsplash.com/photo-1565299507177-b0ac66763828?w=400", t: [{n:"Chica", p:75}, {n:"Mediana", p:150}, {n:"Familiar", p:345}] }
            ],
            pastas: [{ id: 4, n: "Pasta Tavolos", d: "Spaghetti con salsa de la casa", img: "https://images.unsplash.com/photo-1621996346565-e3dbc646d9a9?w=400", t: [{n:"Ãšnica", p:180}] }],
            alitas: [{ id: 5, n: "Alitas BBQ", d: "9 piezas crujientes", img: "https://images.unsplash.com/photo-1608039829572-78524f79c4c7?w=400", t: [{n:"Orden", p:150}] }],
            bebidas: [{ id: 6, n: "Refrescos 600ml", d: "Sabores variados", img: "https://images.unsplash.com/photo-1581006852262-e4307cf6283a?w=400", t: [{n:"Botella", p:35}] }]
        };

        let cart = [];
        let cur = null;

        function render(cat) {
            document.querySelectorAll('.cat-chip').forEach(c => c.classList.remove('active'));
            event.target.classList.add('active');
            const g = document.getElementById('grid');
            g.innerHTML = menu[cat].map(p => `
                <div class="p-card">
                    <img src="${p.img}" class="p-img">
                    <div class="p-body">
                        <h3>${p.n}</h3><p>${p.d}</p>
                        <button class="btn-open" onclick="openM('${cat}', ${p.id})">Personalizar</button>
                    </div>
                </div>
            `).join('');
        }

        function openM(cat, id) {
            cur = menu[cat].find(x => x.id === id);
            document.getElementById('m-n').innerText = cur.n;
            document.getElementById('m-sizes').innerHTML = cur.t.map((s,i) => `
                <div class="row"><span>${s.n}</span><input type="radio" name="sz" value="${s.p}" ${i===0?'checked':''} data-n="${s.n}"> $${s.p}</div>
            `).join('');
            document.getElementById('modal').style.display = 'flex';
        }

        function closeM() { document.getElementById('modal').style.display = 'none'; }

        function add() {
            const sz = document.querySelector('input[name="sz"]:checked');
            let exs = [];
            document.querySelectorAll('.ex:checked').forEach(e => exs.push({n: e.dataset.n, p: parseInt(e.dataset.p)}));
            cart.push({ n: cur.n, sz: sz.dataset.n, p: parseInt(sz.value), ex: exs });
            updateC();
            closeM();
            document.querySelectorAll('.ex').forEach(e => e.checked = false);
        }

        function updateC() {
            const t = cart.reduce((s, i) => s + i.p + i.ex.reduce((se, e) => se + e.p, 0), 0);
            document.getElementById('c-qty').innerText = cart.length;
            document.getElementById('c-total').innerText = `$${t}.00 MXN`;
            document.getElementById('cartUI').style.display = cart.length > 0 ? 'flex' : 'none';
        }

        function genTicket() {
            const date = new Date().toLocaleDateString('es-MX', {weekday: 'long', day: 'numeric', month: 'long', year: 'numeric'});
            const time = new Date().toLocaleTimeString('es-MX', {hour: '2-digit', minute: '2-digit'});
            let items = cart.map(i => `â€¢ *1x ${i.n} (${i.sz})* ${i.ex.map(e => `+ ${e.n}`).join(', ')} â€” $${i.p + i.ex.reduce((a,b)=>a+b.p,0)}.00 MXN`).join('\n');
            const sub = cart.reduce((s, i) => s + i.p + i.ex.reduce((se, e) => se + e.p, 0), 0);
            const total = sub + 30;

            const tkt = `ğŸ“± *Â¡NUEVO PEDIDO - PIZZERÃA TAVOLOS!*\n\nğŸ“… *Cliente:* (Escribe tu nombre)\nğŸ“ *TelÃ©fono:* (Escribe tu telÃ©fono)\nğŸ“… *Fecha:* ${date}\nğŸ•’ *Hora:* ${time}\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ“¦ *PEDIDO:*\n\n${items}\n\nğŸ’° *Subtotal:* $${sub}.00 MXN\nğŸšš *EnvÃ­o:* $30.00 MXN\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ’µ *TOTAL A PAGAR:* $${total}.00 MXN\n\nğŸ“¦ *Entrega:* A domicilio\nğŸ“ *DirecciÃ³n:* (Tu direcciÃ³n aquÃ­)\nğŸ“ *Notas:* Sin cebolla\nâ±ï¸ *Tiempo:* 25-45 min\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nâ¤ï¸ *Â¡Gracias por tu pedido!*`;
            window.open(`https://wa.me/5219611010657?text=${encodeURIComponent(tkt)}`);
        }
        render('pizzas');
    </script>
</body>
</html>
